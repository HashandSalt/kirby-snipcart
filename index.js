(function(){"use strict";var m=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"k-snipcart-vital"},[e("h3",[t._v("Abandonded Carts")]),e("span",[t._v(t._s(t.abandonedCount))])])},C=[];function i(t,n,e,u,a,r,c,H){var s=typeof t=="function"?t.options:t;n&&(s.render=n,s.staticRenderFns=e,s._compiled=!0),u&&(s.functional=!0),r&&(s._scopeId="data-v-"+r);var l;if(c?(l=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(o=__VUE_SSR_CONTEXT__),a&&a.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(c)},s._ssrRegister=l):a&&(l=H?function(){a.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(s.functional){s._injectStyles=l;var J=s.render;s.render=function(K,$){return l.call($),J(K,$)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:s}}const S={data(){return{abandoned:null}},computed:{abandonedCount(){return this.abandoned?this.abandoned.length:"Loading..."}},async created(){let t=await this.$api.get("snipcart/carts/abandoned");this.abandoned=t.items}},_={};var g=i(S,m,C,!1,b,null,null,null);function b(t){for(let n in _)this[n]=_[n]}var k=function(){return g.exports}(),y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"k-snipcart-vital"},[e("h3",[t._v("Total Sales")]),e("span",[t._v(t._s(t.salesCount))])])},T=[];const w={data(){return{totalSales:null}},computed:{salesCount(){return this.totalSales?this.totalSales:"Loading..."}},async created(){let n=(await this.$api.get("snipcart/orders")).items.reduce((e,u)=>e+u.finalGrandTotal,0).toFixed(2);this.totalSales=n}},d={};var R=i(w,y,T,!1,I,null,null,null);function I(t){for(let n in d)this[n]=d[n]}var F=function(){return R.exports}(),E=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"k-snipcart-vital"},[e("h3",[t._v("Most Popular")]),e("span",[t._v(t._s(t.popularCount))])])},M=[];const D={name:"popularItem",data(){return{popularItem:void 0,errors:[]}},computed:{popularCount(){return this.popularItem?this.popularItem:"Loading..."}},async created(){try{let e=(await this.$api.get("snipcart/orders",{pretty:!0})).items.reduce((a,r)=>a.concat(r.items),[]).map(({name:a})=>a).reduce((a,r)=>{const c=a[r]||0;return a[r]=c+1,a},{}),u=Object.keys(e).reduce((a,r)=>e[a]>e[r]?a:r);this.popularItem=u}catch(t){this.errors.push(t)}}},p={};var V=i(D,E,M,!1,j,null,null,null);function j(t){for(let n in p)this[n]=p[n]}var x=function(){return V.exports}(),L=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("k-inside",[e("k-view",{staticClass:"k-snipcart-view"},[e("k-header",[t._v("Dashboard")]),e("k-grid",{staticClass:"k-snipcart-vitals",attrs:{gutter:"medium"}},[e("k-column",{attrs:{width:"1/3"}},[e("salestotal")],1),e("k-column",{attrs:{width:"1/3"}},[e("popular")],1),e("k-column",{attrs:{width:"1/3"}},[e("abandoned")],1)],1)],1)],1)},O=[],Q="";const P={name:"Vitals",components:{abandoned:k,salestotal:F,popular:x}},v={};var A=i(P,L,O,!1,B,null,null,null);function B(t){for(let n in v)this[n]=v[n]}var N=function(){return A.exports}(),U=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"k-snipcart-product-total"},[e("div",{staticClass:"k-snipcart-vital"},[e("h3",[t._v("Total Sales")]),e("span",[t._v(t._s(t.salesCount))])])])},X=[];const q={props:{label:String,value:String,disabled:Boolean,required:Boolean,value:String},data(){return{totalSales:null,productID:this.$store.getters["content/values"]().productid}},computed:{salesCount(){return this.totalSales?this.totalSales:"Loading..."}},async created(){let t=await this.$api.get("snipcart/products/"+this.productID);t===void 0||t.length==0?this.totalSales=0:this.totalSales=t.statistics.totalSales.toFixed(2)}},h={};var z=i(q,U,X,!1,G,null,null,null);function G(t){for(let n in h)this[n]=h[n]}var W=function(){return z.exports}();panel.plugin("hashandsalt/snipcart",{components:{vitals:N},fields:{productTotal:W}})})();
